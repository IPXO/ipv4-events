/* ===== Links (retro colors) ===== */
a { color:#0000EE; text-decoration:none; cursor:pointer; }
a:visited { color:#551A8B; }
a:hover, a:focus { color:#FF0000; text-decoration:underline; }
a:active { color:#CC0000; }

/* ===== Theme tokens ===== */
:root{
  --desk:#008080; --win:#c0c0c0; --br:#808080; --txt:#000;
  --shadow-in: inset -2px -2px 0 #fff, inset 2px 2px 0 #808080;
  --chip:#e9e9e9;
}

/* ===== Base layout ===== */
*{ box-sizing:border-box }
html { -webkit-text-size-adjust:100%; }                  /* stop iOS auto-zooming text */
* { -webkit-tap-highlight-color: rgba(0,0,0,0.15); }     /* nicer tap feedback */

body{
  margin:0; background:var(--desk); color:var(--txt);
  font-family:Tahoma, Segoe UI, Arial, sans-serif;
}
.nojs{ background:#fff; border:2px solid #000; padding:10px; margin:12px; }

/* Containers / panels */
.container{ max-width:1220px; margin:0 auto; padding:0 14px }
.panel{ background:var(--win); border:4px solid var(--br); box-shadow:var(--shadow-in) }

/* Header */
header.top{
  position:sticky; top:0; z-index:5; background:var(--win);
  border-bottom:4px solid var(--br); box-shadow:var(--shadow-in)
}
.top-inner{ display:flex; gap:10px; align-items:center; justify-content:space-between; padding:10px 14px }
.brand{ display:flex; gap:8px; align-items:center; font-weight:700; flex:0 0 auto; }
img.icon{ width:18px; height:18px; image-rendering:pixelated }

/* Filters bar (desktop baseline) */
.controls{ display:flex; flex-wrap:wrap; gap:8px; flex:1 1 auto; min-width:0; }
.input,.select{ border:2px solid #000; background:#fff; padding:7px 10px; font-size:14px; font:inherit; color:inherit; }
.input{ min-width:260px }
header.top + main { margin-top:12px; }

/* Make space pretty */
main{ padding:16px 0 }
.hero{ padding:14px; margin-bottom:16px }
.hero h2{ margin:0 0 6px; font-size:18px; display:flex; gap:8px; align-items:center }
.muted{ opacity:.9; font-size:13px }

/* Categories grid */
.catbar{ display:flex; flex-wrap:wrap; gap:8px; margin-top:10px }
.grid{ display:grid; grid-template-columns:1fr; gap:14px; margin:18px 0 60px }
@media(min-width:980px){ .grid{ grid-template-columns:1fr 1fr } }
@media(min-width:1200px){ .grid{ grid-template-columns:1fr 1fr 1fr } }

.year-card{ overflow:hidden }
.year-head{ display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:4px solid var(--br); background:#d6d6d6 }
.year-title{ display:flex; gap:8px; align-items:center; font-weight:700 }
.event-list{ list-style:none; margin:0; padding:10px 12px; display:flex; flex-direction:column; gap:10px }
.event{ display:grid; grid-template-columns:20px auto; gap:8px }
.event-title{ font-weight:700 }
.chip-row{ display:flex; flex-wrap:wrap; gap:6px; margin-top:4px }
.chip{ background:var(--chip); border:1px solid #000; padding:1px 6px; font-size:11px; display:inline-flex; align-items:center; gap:4px; cursor:pointer }

/* Footer */
footer{ margin:26px 0 80px; padding:14px }
.about-head{ display:flex; align-items:center; gap:8px }

/* ===== Loader ===== */
#loader { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,.15); z-index:9999; }
#loader .win { background:var(--win); border:4px solid var(--br); box-shadow:var(--shadow-in); width:360px; padding:12px; }
#loader .title { display:flex; align-items:center; gap:8px; font-weight:700; margin-bottom:8px }
#loader .bar { height:18px; border:2px solid #000; background:#fff; box-shadow: inset -2px -2px 0 #fff, inset 2px 2px 0 #808080; }
#loader .fill { height:100%; width:0%; background:#0a66; }
#loader .foot { display:flex; justify-content:space-between; margin-top:8px; font-size:12px; opacity:.9 }

/* ===== Form control resets ===== */
.input, .select {
  -webkit-appearance:none; -moz-appearance:none; appearance:none;
  border-radius:0;
}
.select::-ms-expand { display:none; }
.select{
  background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='6' viewBox='0 0 10 6'><path d='M0 0 L5 6 L10 0 Z' fill='black'/></svg>");
  background-repeat:no-repeat; background-position:right 8px center; padding-right:28px;
  color:#000; /* stop iOS from making it blue */
}

/* ===== iPhone Safari header overflow fix ===== */
.top-inner, .controls { min-width:0; } /* allow flex shrink */
.controls > * { min-width:0; }
.controls .input, .controls .select { max-width:100%; width:100%; box-sizing:border-box; line-height:1.1; }
@media (min-width:700px){
  .controls{ display:grid; grid-template-columns:1fr 220px 180px; gap:8px; }
  .controls .input{ width:100%; }
  .controls .select{ width:auto; }
}

/* ===== Category pills ===== */
.cat-pill{
  display:inline-flex; align-items:center; gap:6px;
  background:#fff; border:2px solid #000; padding:5px 8px;
  line-height:1; white-space:nowrap; -webkit-appearance:none; appearance:none;
  border-radius:0; color:#000; text-decoration:none;
}
.cat-pill .icon{ vertical-align:middle }
.cat-pill:hover, .cat-pill:focus{ background:#e0e0e0; outline:2px solid #000; outline-offset:0; }
.cat-pill:active{ background:#d0d0d0; box-shadow: inset 2px 2px 0 #808080, inset -2px -2px 0 #fff; }

/* ===== Mobile filter drawer ===== */
.filter-toggle{
  display:none; border:2px solid #000; background:#fff; padding:6px 10px; font:inherit; line-height:1; cursor:pointer;
}
@media (max-width:640px){
  .filter-toggle{ display:inline-block; }
  #filters{
    position:fixed; left:0; right:0; top:env(safe-area-inset-top);
    transform:translateY(-110%); transition:transform .25s ease-out;
    z-index:10000; padding:12px 14px; gap:10px;
    background:var(--win); border-bottom:4px solid var(--br); box-shadow:var(--shadow-in);
  }
  #filters.is-open{ transform:translateY(0); }
  body.drawer-open::after{
    content:""; position:fixed; inset:0; background:rgba(0,0,0,.25); z-index:9999;
  }
  /* Stop iOS zoom-on-focus with >=16px */
  #filters .input, #filters .select{ font-size:16px; }
}

/* ===== Utilities ===== */
.sr-only{
  position:absolute!important; width:1px!important; height:1px!important; padding:0!important; margin:-1px!important;
  overflow:hidden!important; clip:rect(0,0,0,0)!important; white-space:nowrap!important; border:0!important;
}
.wp-link {
  margin-left: 6px;        /* small gap after the title */
  font-weight: 700;        /* make it bold */
  text-decoration: none;   /* no underline normally */
}
.wp-link:hover,
.wp-link:focus {
  text-decoration: underline; /* underline when hovered/focused */
}